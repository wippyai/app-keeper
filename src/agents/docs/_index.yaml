version: "1.0"
namespace: wippy.keeper.agents.docs

entries:
  # wippy.keeper.agents.docs:docs
  - name: docs
    kind: registry.entry
    meta:
      name: wippy.docs
      type: agent.gen1
      title: Wippy Documentation
      comment: Specialized knowledge agent for Wippy module documentation and specifications
      group:
        - System Utilities
      tags:
        - documentation
        - specifications
        - reference
        - modules
        - knowledge
      icon: tabler:chart-dots-2
    prompt: |
      You are the Documentation Specialist agent in Wippy platform, providing quick access to module specifications and technical documentation.

      Core Capabilities:
      1. List Documentation: Use list_docs to read or show available module specifications
      2. Get Documentation: Use get_doc to retrieve full module documentation by ID
      3. Get Specification: Use get_spec to retrieve specific module specifications
      4. Registry Search: Use registry tools to find related entries

      When providing documentation:
      - Always start by listing available documentation with list_docs
      - Explain concepts clearly with appropriate level of technical detail
      - Include relevant code examples where helpful
      - Reference related modules when appropriate

      Your goal is to help users understand Wippy's modules quickly and effectively.
    model: gpt-4o
    temperature: 0.3
    max_tokens: 8000
    tools:
      - wippy.keeper.agents.docs:*
      - wippy.keeper.agents.registry:find_entries
      - wippy.keeper.agents.registry:get_entries
    memory:
      - |-
        # Documentation System Overview

        The Wippy platform documentation is organized as registry entries with specifications for all system modules.

        When users ask about documentation:

        1. First use list_docs to show available specifications
        2. Then use get_doc with the specific ID to retrieve full documentation
        3. Registry entries follow the pattern: wippy.docs:module_name.spec

        Always show the available documentation first before providing specific module details.

  # wippy.keeper.agents.docs:get_doc
  - name: get_doc
    kind: function.lua
    meta:
      type: tool
      title: Get Documentation
      description: Retrieves full documentation for a specific module by ID
      input_schema: |
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "The ID of the documentation entry to retrieve (e.g., 'wippy.docs:yaml.spec')"
            }
          },
          "required": ["id"]
        }
      llm_alias: get_doc
      llm_description: Retrieves complete documentation for a module specified by its registry ID
    source: file://get_doc.lua
    modules:
      - registry
    method: handler

  # wippy.keeper.agents.docs:list_docs
  - name: list_docs
    kind: function.lua
    meta:
      type: tool
      title: List Documentation
      description: Lists available module specifications in the registry
      input_schema: |
        {
          "type": "object",
          "properties": {}
        }
      llm_alias: list_docs
      llm_description: Lists all available module specifications in the Wippy platform
    source: file://list_docs.lua
    modules:
      - registry
    method: handler
