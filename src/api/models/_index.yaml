version: "1.0"
namespace: wippy.keeper.api.models

entries:
  # wippy.keeper.api.models:list_models
  - name: list_models
    kind: function.lua
    meta:
      comment: Lists available models with UI relevant metadata
      depends_on:
        - app:api
    source: file://list_models.lua
    modules:
      - http
      - json
    imports:
      models: wippy.llm:models
    method: handler
    pool:
      size: 2

  # wippy.keeper.api.models:list_models.endpoint
  - name: list_models.endpoint
    kind: http.endpoint
    meta:
      comment: Endpoint that lists models with UI relevant metadata
      depends_on:
        - app:api
      router: app:api
    method: GET
    func: list_models
    path: /keeper/models/list
